!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VuePrlx={})}(this,(function(e){"use strict";const t={beforeMount:n,updated:n,unmounted:i};function i(e){e.__prlxRequestAnimationFrameId&&(window.cancelAnimationFrame(e.__prlxRequestAnimationFrameId),delete e.__prlxRequestAnimationFrameId)}function n(e,{modifiers:t={},value:n={}}){const l={isParallaxOnMobile:t.mobile||!1,background:t.background||!1,startParallaxFromBottom:n.fromBottom||!1,justAddParallaxValue:n.custom||!1,reverse:n.reverse||!1,speed:n.speed||.15,preserveInitialPosition:!1!==n.preserveInitialPosition||n.preserveInitialPosition,direction:n.direction||"y",limit:n.limit||null,mobileMaxWidth:n.mobileMaxWidth||768,isDisabled:n.disabled||!1};if(l.background&&(l.speed=n.speed||.02,l.limit={min:0,max:100}),l.reverse&&(l.speed=-l.speed),l.isDisabled)i(e);else{(!(window.innerWidth<l.mobileMaxWidth)||l.isParallaxOnMobile)&&o(e,l)}}function o(e,t){const i=t.startParallaxFromBottom?window.innerHeight:window.innerHeight/2;let n=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)-d(e)+i;t.preserveInitialPosition&&n<0&&(n=0),s(e)&&function(e,t,i){let n,o=t*i.speed;i.limit&&(o>i.limit.max&&(o=i.limit.max),o<i.limit.min&&(o=i.limit.min));n=i.background?l:i.justAddParallaxValue?a:r;n(e,o,i.direction)}(e,n,t),e.__prlxRequestAnimationFrameId=window.requestAnimationFrame(o.bind(null,e,t))}function l(e,t,i){e.style.transition="background-position 0.1s ease-out",e.style.backgroundPosition="y"===i?`50% ${t}%`:`${t}% 50%`}function r(e,t,i){e.style.transition="transform 0.1s ease-out",e.style.transform=`translate${i.toUpperCase()}(${Math.round(t)}px)`}function a(e,t){e.style.setProperty("--parallax-value",t.toString())}const s=(e,{top:t,height:i}=e.getBoundingClientRect())=>t<=innerHeight&&t+i>0,d=e=>{let t=0;do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t},u={install:e=>{e.directive("prlx",t)}};e.VuePrlx=u,e.VuePrlxDirective=t,e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}));
